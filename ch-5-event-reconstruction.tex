We review the properties of the particles most pertinent to the analyses presented in this work (taus, muons, electrons, jets, and b-jets), their signatures in the CMS detector, and dedicated reconstruction techniques used at CMS.

\section{Taus}
Tau leptons, with a mass of 1.776 GeV, are heavy enough to decay hadronically (i.e. to final states with hadrons) which it does so about 64.8\% of the time. These hadronic decays are denoted $\tau_{h}$. The remainder of the time, it decays to final states with the lighter leptons (electron or muon), termed leptonic decays. In all cases, at least one is produced, resulting in missing transverse energy in the CMS detector. The tau's largest decay branching ratios (proportional to probability of decay) are listed below \citep{workman_review_2022}: 
\begin{itemize}
    \item 25.5\% decay to $\pi^- \pi^0 \nu_{\tau}$
    \item 17.8\% decay to $e^- \bar{\nu}_e \nu_{\tau}$
    \item 17.4\% decay to $\mu^- \bar{\nu}_\mu \nu_{\tau}$
    \item 10.8\% decay to $\pi^- \nu_{\tau}$ (excluding $K^0, \omega$)
    \item 9.3\% decay to $\pi^- 2\pi^0 \nu_{\tau}$ (excluding $K^0, \omega$)
    \item 9.0\% decay to $\pi^- \pi^- \pi^+ \nu_{\tau}$ (excluding $K^0, \omega$)
\end{itemize}

Thus in analyses containing $\tau\tau$ states, a distinction of the final states must be made for the possible combinatorics of the tau final states. For instance, a $\mu\tau_{h}$ event channel must be treated differently than a $\tau_{h}\tau_{h}$ channel.

In the CMS detector, charged pions leave tracks in the tracking detector before being absorbed in the hadronic calorimeter. Due to presence of the tracks for the charged pions, they are called ``prongs'' in hadronic tau reconstruction, giving gives rise to the names ``1 prong", ``1 prong + $\pi^0$(s)", and ``3-prong'' for the dominant hadronic tau decay modes. Neutral pions decay to two photons which lose their energy in the electromagnetic calorimeter. Taus that decay to electrons and muons, are typically triggered on and reconstructed as electrons and muons respectively. 

At CMS, hadronically decaying tau leptons are reconstructed with the hadron-plus-strips (HPS) algorithm \citep{CMS-TAU-14-001}, which is seeded with anti-$k_T$ jets. The HPS algorithm reconstructs $\tau_{h}$ candidates on the basis of the number of tracks and the number of ECAL strips in the $\eta-\phi$ plane with energy deposits, in the 1 prong, 1 prong + $\pi^0$(s), and 3-prong decay modes. A multivariate (MVA) discriminator, including isolation and lifetime information, is used to reduce backgrounds from quark- and gluon-initiated jets that are misidentified as $\tau_{h}$ candidates. 

\section{Muons}
Muons are identified with requirements on the quality of the track reconstruction and on the number of measurements in the tracker and the muon systems \citep{CMS-MUO-10-004}. In the standard CMS reconstruction, tracks are first reconstructed independently in the inner tracker (tracker track) and in the muon system (standalone-muon track). Next, these tracks are processed in two different methods.

The first is Global Muon reconstruction (outside-in) \citep{CMS-MUO-10-004}, which fits combined hits from the tracker track and standalone-muon track, using the Kalman-filter technique. At large transverse momenta, $p_{T} \gtrsim 200$ GeV, the global-muon fit can improve the momentum resolution compared to the tracker-only fit. 

The second is Tracker Muon reconstruction (inside-out) \citep{CMS-MUO-10-004}, which starts with tracker tracks with $p_{T} > 0.5$ GeV and total momentum $p_{T} > 2.5$ GeV. These tracks are extrapolated outwards to the muon system and matched to detector segments there, taking into account the magnetic field, expected energy losses, and multiple Coulomb scattering in the detector material. Tracker Muon reconstruction is more efficient than the Global Muon reconstruction at low momenta, $p \lesssim 5$ GeV, because it only requires a single muon segment in the muon system, where as Global Muon reconstruction typically requires segments in at least two muon stations.

To further suppress fake muons from decay in flight, isolation cuts are used. A relative isolation variable is defined to quantify the energy flow of particles near the muon trajectory.
A relative isolation is defined similarly for muons and electrons:
\begin{equation}
    I^\ell \equiv \frac{\sum_{\text{charged}} p_{T} + \text{max}\left( 0, \sum_{\text{neutral}} p_{T} - \frac{1}{2}  \sum_{\text{charged, PU}} p_{T}  \right)}{p_{T}^\ell}
    \label{eqn:definition-relative-isolation}
\end{equation}
where $\sum_{\text{charged}} p_{T}$ is the scalar sum of the $p_{T}$ of the charged particles originating from the primary vertex and located in a cone of size $\Delta R = \sqrt{(\Delta \eta)^2 + (\Delta \phi)^2} = 0.4 (0.3)$ centered on the direction of the muon (electron). The sum $\sum_{\text{neutral}} p_{T}$ is the equivalent for neutral particles. The sum $\sum_{\text{charged, PU}} p_{T}$ is the scalar sum of the $p_{T}$ of the charged hadrons in the cone originating from pileup vertices. The factor $1/2$ comes from simulation estimations, which find that the ratio of neutral to charged hadron production in the hadronization process of inelastic $pp$ collisions is $1/2$. Thus the subtracted term is intended to subtract contribution from pileup, from the neutral particle contribution to the isolation sum. Finally, this is divided by the lepton transverse momentum, $p_{T}^\ell$. 


\section{Electrons}
Electrons are reconstructed by associating a track reconstructed in the silicon tracking detector with a cluster of energy in the ECAL. Performance is maximized via a combination of a stand-alone approach and the complementary global particle-flow approach \citep{JINST-2015-10-P06005}. 

In the stand-alone approach, the electron energy, which is typically spread over several crystals of the ECAL, is clustered with the ``hybrid'' algorithm in the barrel and the ``multi-$5\times 5$'' in the endcaps \citep{JINST-2015-10-P06005}. The hybrid algorithm collects energy in a small window in $\eta$ and an extended window in $\phi$. It identifies a seed crystal, and adds arrays of $5 \times 1$ crystals in $\eta \times \phi$ in a range of $N = 17$ crystals in both directions of $\phi$, if their energies exceed a minimum threshold, thus forming a supercluster (SC).  In the endcap, crystals are not arranged in an $\eta \times \phi$ geometry; instead clusters are build around seed crystals in clusters of $5\times 5$ crystals that can partly overlap. Nearby clusters are grouped into a supercluster, and energy is recovered from associated deposits in the preshower. 

In the PF reconstruction \citep{JINST-2015-10-P06005}, PF clusters are reconstructed by aggregating around a seed all contiguous crystals with energies two standard deviations above the electronic noise observed at the beginning of a data-taking run. The energy of a given crystal can be shared among two or more clusters.

The electron track reconstruction is performed in two ways \citep{JINST-2015-10-P06005}: the ECAL-based seeding, which begins with the SC energy and positioning, and the tracker-based seeding (part of the PF reconstruction algorithm), which uses tracks reconstructed from the general algorithm for charged particles, extrapolated towards the ECAL and matched to an SC. Kalman filter (KF) tracks with a small number of hits or that are not well-fitted, are re-fitted with a dedicated Gaussian sum Filter (GSF).

A global identification variable \citep{JINST-2015-10-P06005} is defined using a multivariate analysis (MVA) technique that combines information on track observables (kinematics, quality of the KF track and GSF track), the electron PF cluster observables (shape and pattern), and the association between the two (geometric and kinematic observables). For electrons seeded only through the tracker-based approach, a weak selection is applied on this MVA variable. For electrons seeded through both approaches, a logical OR is taken. 

Electron isolation, i.e. the presence of energy deposits near the electron trajectory, is a separate key handle in rejecting significant background. Compared to isolated electrons, electrons from misidentified jets or genuine electrons within a jet resulting from semileptonic decays of $b$ or $c$ quarks tend to have significant energy deposits near the primary trajectory \citep{JINST-2015-10-P06005}. Offline analyses benefit from the PF technique for defining isolation, which sums the PF candidates reconstructed located within a specified isolation cone around the electron candidate, as in Eqn. \ref{eqn:definition-relative-isolation}.

\section{Jets}
The vast majority of processes of interest at the LHC contains quarks or gluons in the final state, but these particles cannot be observed directly. In a process called hadronization, they fragment into spatially-grouped collections of particles called jets, which can be detected in the tracking and calorimeter systems. Hadronization and the subsequent decays of unstable hadrons can produce hundreds of nearby particles in the CMS detector. Jets are reconstructed by the PF algorithm (PF jets), or from the sum of the ECAL and HCAL energies deposited in the calorimeter towers (Calo jets). In PF jets, typically used in offline analyses, jets are built using the anti-$k_T$ (AK) clustering algorithm \cite{CMS-BTV-12-001}. The anti-$k_T$ algorithm iterates over particle pairs and finds the two that are closest in a distance measure $d$, and determines whether to combine them:
\begin{equation}
    d_{ij} = \text{min} \left(p_{T, i}^{-2}, \, p_{T, j}^{-2} \right) \frac{\Delta_{ij}^2}{R^2}, \, \,
    \text{combine when $d_{ij} < p_{T,i}^{-2}$; stop when $d_{ij} > p_{T, i}^{-2}$}
    \label{eqn:anti-kT}
\end{equation}
where $\Delta_{ij}^2 = (\eta_i - \eta_j)^2 + (\phi_i - \phi_j)^2$ and $p_{T, i}$, $\eta_i$, $\phi_i$ are the transverse momentum, rapidity, and azimuthal angle of particle $i$. The power $-2$ means that higher-momentum particles are clustered first, leading to jets that tend to be centered on the hardest (highest $p_T$) particle.

There are several methods to remove contributions of pileup collisions from jet clustering \cite{CMS-PAS-JME-14-001}:
\begin{itemize}
    \item Charged hadron subtraction (CHS), which removes all charged hadron candidates associated with a track that is not associated with the primary vertex.
    \item PileUp Per Particle Identification (PUPPI), which weighs input particles based on their likelihood of arising from pileup. QCD particles tend to have a collinear structure, compared to soft diffuse radiation coming from pileup. The local shape for charged pileup, used as a proxy for all pileup particles, is used on an event-by-event basis to calculate a weight for each particle. PUPPI is deployed in Run-2 and is more performant than CHS in high pileup scenarios.
\end{itemize}

\section{B jets}
Jets that arise from bottom-quark hadronization (b jets) have overwhelming background from processes involving jets from gluons (g) and light-flavour quarks (u, d, s), and from c-quark fragmentation. The ability to identify b jets, or b-tagging, exploits the b hadrons' relatively large masses, long lifetimes, and daughter particles with hard momentum spectra \cite{CMS-BTV-12-001}. 

The impact parameter (IP) of a track is the 3-dimensional distance between the track and the primary vertex (PV) at the point of closest approach. The IP is positive if the track originates from the decay of particles travelling along the jet axis. The resolution of the IP depends on the $p_{T}$ and $\eta$ of the track, motivating the use of the impact parameter significance $S_{\text{IP}}$ (ratio of the IP to its estimated uncertainty) as an observable \cite{CMS-BTV-12-001}.

Because of the large but finite lifetimes of the b hadrons, b hadrons tend to travel a short distance before decaying at a secondary vertex (SV), which can be measured and reconstructed separately from the primary vertex due to the excellent position resolution of the pixel detector \cite{CMS-BTV-12-001}. Previous b-tagging algorithms (e.g. CSV, cMVAv2, and DeepCSV) have capitalized on variables such as the presence of a SV, the flight distance and direction (computed from the vector between the PV and the SV), and kinematics of the system of associated secondary tracks (e.g. track multiplicity, mass, and energy). 

The DeepJet (formerly known as DeepFlavour) algorithm \cite{CMS-DP-2017-013} is a deep-neural-network multi-classification algorithm, which uses 16 properties of up to 25 charged and 6 properties of 25 neutral particle-flow jet constituents, as well as 17 properties from up to 4 secondary vertices associate with the jet. Compared to the previous classifying algorithm DeepCSV, DeepJet has been demonstrated to have higher efficiency with lower misidentification probability in Phase-1 data \cite{CMS-DP-2018-058}. 